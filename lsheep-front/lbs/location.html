<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>登陆</title>
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<script type="text/javascript"
	src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript"
	src="https://apis.map.qq.com/tools/geolocation/min?key=LFQBZ-QUN6U-G2QVU-2KZ4W-XX6N6-SYBJ5&referer=lsheep"></script>
<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
<script type="text/JavaScript">
	function position() {
		var geolocation = new qq.maps.Geolocation();
		geolocation.getLocation(successCallback, errorCallback, {
			timeout : 30,
			failTipFlag : true
		});
	}
	function successCallback(geoposition) {
		console.log('success callback');
		console.log(JSON.stringify(geoposition));
		console.log(returnCitySN["cip"]);
		console.log(returnCitySN["cname"]);
		var demo = document.getElementById("demo");
		demo.innerHTML = JSON.stringify(geoposition);

		var position = {};
		position.success = true;
		position.operateIp = returnCitySN["cip"];
		$.post("/customer-restful/location/position", position, function(data) {});
	}
	function errorCallback() {
		console.log(returnCitySN["cip"]);
		console.log(returnCitySN["cname"]);
		console.log('error callback');
		var demo = document.getElementById("demo");
		demo.innerHTML = "error callback";
		var position = {};
		position.success = true;
		position.operateIp = returnCitySN["cip"];
		$.post("/customer-restful/location/position", position, function(data) {});
	}
	$(function() {
		position();
	});
</script>
</head>
<body>
	<div id="demo"></div>
</body>
</html>